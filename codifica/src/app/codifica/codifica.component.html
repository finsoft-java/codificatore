<h3>Codifica nuovo codice</h3>

Selezionare lo schema di codifica:
<mat-select placeholder="Schema di codifica" [(ngModel)]="schemaScelto" (selectionChange)="onSelectSchema($event)" name="schema" [disabled]="schemaScelto !== undefined">
    <mat-option *ngFor="let schema of schemi" [value]="schema">
        {{schema.TITOLO}}
    </mat-option>
</mat-select>

Questo bottone dovrebbe stare a destra:
<button (click)="reset()" mat-button color="secondary" [disabled]="schemaScelto === undefined">Reset</button>

<div *ngIf="schemaScelto !== undefined">
    <div *ngIf="regoleSchemaScelto.length == 0">
        Nessuna regola configurata.
    </div>

    <div *ngFor="let r of regoleSchemaScelto">
        <div *ngIf="r.TIPO =='text'">
            <mat-form-field appearance="standard">
                <mat-label>{{r.NOM_VARIABILE}}</mat-label>
                <input matInput name="Rule_{{r.NOM_VARIABILE}}" [required]="r.REQUIRED=='Y'" [maxLength]="r.MAXLENGTH" [pattern]="r.PATTERN_REGEXP" (change)="onChangeInputRule(r.NOM_VARIABILE,$event)">
                <mat-hint>{{r.ETICHETTA}}</mat-hint>
            </mat-form-field>
        </div>
        <div *ngIf="r.TIPO =='number'">
            <mat-form-field appearance="standard">
                <mat-label>{{r.NOM_VARIABILE}}</mat-label>
                <input matInput type="number" name="Rule_{{r.NOM_VARIABILE}}" [required]="r.REQUIRED=='Y'" [min]="r.MIN" [max]="r.MAX" (change)="onChangeInputRule(r.NOM_VARIABILE,$event)">
                <mat-hint>{{r.ETICHETTA}}</mat-hint>
            </mat-form-field>
        </div>
        <div *ngIf="r.TIPO =='elenco'">
            <mat-form-field appearance="standard">
                <mat-label>{{r.NOM_VARIABILE}}</mat-label>
                <mat-select name="Rule_{{r.NOM_VARIABILE}}" [required]="r.REQUIRED=='Y'" (selectionChange)="onChangeSelectRule(r.NOM_VARIABILE,$event)">
                    <mat-option *ngFor="let opt of r.OPTIONS" [value]="opt.VALUE_OPTION">
                        {{opt.ETICHETTA}}
                    </mat-option>
                </mat-select>
                <mat-hint>{{r.ETICHETTA}}</mat-hint>
            </mat-form-field>
        </div>
        <div *ngIf="r.TIPO =='sottoschema'">
            <h5>{{r.ETICHETTA}}</h5>
             (TODO: QUI DOVREBBE APPARIRE UN SUBFORM RELATIVO AL SOTTOSCHEMA)
        </div>
    </div>

    <!-- Calcolo CODICE e DESCRIZIONE in tempo reale-->
    <div *ngIf="calcoloCompletato" style="background-color: green;">
        <div>
            Codice: {{codiceCalcolato}} 
        </div>
        <div>
            Descrizione: {{descrizioneCalcolata}} 
        </div>
    </div>
</div>